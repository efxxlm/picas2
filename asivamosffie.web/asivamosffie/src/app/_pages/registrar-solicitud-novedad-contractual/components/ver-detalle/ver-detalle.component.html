<section class="container" *ngIf="novedad">
  <div class="container text-center">
    <div class="text-right">
      <a routerLink="../.." mat-button color="primary" class="btn-regresar">
        <img src="assets/img/icon/regresar.svg" alt="Regresar">
      </a>
    </div>
    <h1 class="title-menu--h1">
      Ver detalle registro solicitud de novedad
    </h1>
    <p class="mt-05em color-mainColor">
      Número de contrato <b>{{ novedad.contrato.numeroContrato }}</b>
    </p>
  </div>

  <mat-card class="shipping-card var-main-gris">
    <mat-card-header class="header-card header-card--margin">
      <mat-card-title class="header-card--text">
        Datos del contrato
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <p>
        <strong>
          Nombre del contratista:
        </strong>
        {{ novedad.contrato.contratacion.contratista.nombre }}
      </p>
      <p>
        <strong>Tipo de identificación:</strong>
        <span>
          {{ novedad.contrato.contratacion.contratista.tipoIdentificacionNotMapped }}
        </span>
      </p>
      <p>
        <strong>
          Número de identificación
        </strong>
        {{ novedad.contrato.contratacion.contratista.numeroIdentificacion }}
      </p>
      <p>
        <strong>Tipo de intervención:</strong>
        <span>
          {{ novedad.proyectosContrato[0].tipoIntervencion }}
        </span>
      </p>
      <p>
        <strong>Valor del contrato:</strong>
        <span>
          {{ novedad.proyectosContrato[0].valorTotal }}
        </span>
      </p>
      <!-- <p>
        <strong>Plazo:</strong>
        <span>
          24 meses / 25 días
        </span>
      </p>
      <p>
        <strong>Fecha de inicio de contrato:</strong>
        <span>
          25/06/2020
        </span>
      </p>
      <p>
        <strong>Fecha de finalización de contrato:</strong>
        <span>
          20/07/2022
        </span>
      </p> -->

    </mat-card-content>
  </mat-card>

  <mat-accordion>
    <mat-expansion-panel class="expansion-style">
      <mat-expansion-panel-header class="expansion-style--header">
        <mat-panel-title class="expansion-style--title">
          Registrar novedad
        </mat-panel-title>
      </mat-expansion-panel-header>

      <mat-card class="shipping-card var-main-gris">
        <mat-card-content>
          <p>
            <strong>
              Fecha de solicitud de la novedad :
            </strong>
            {{ novedad.fechaSolictud }}
          </p>
          <p>
            <strong>
              Instancia donde se presentó la solicitud :
            </strong>
            <span>
              {{ novedad.instanciaCodigo }}
            </span>
          </p>
          <p>
            <strong>
              Fecha de la sesión de la instancia :
            </strong>
            {{ novedad.fechaSesionInstancia }}
          </p>
          <!-- <p>
            <strong>
              Tipo de Novedad :
            </strong>
            Modificación de Condiciones Contractuales
          </p> -->

        </mat-card-content>
      </mat-card>
      <mat-accordion>
        <mat-expansion-panel class="expansion-style sub-expansion" *ngFor=" let descripcion of novedad.novedadContractualDescripcion; let i = index; ">
          <mat-expansion-panel-header class="expansion-style--header">
            <mat-panel-title class="expansion-style--title">
              Novedad {{ 1 + i }}
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-card class="shipping-card var-main-gris">
            <mat-card-header class="header-card header-card--margin">
              <mat-card-title class="header-card--text textoGris">
                Suspensión
              </mat-card-title>
            </mat-card-header>
            <mat-card-content>
              <p><strong>Motivos de la novedad :</strong>xxxxxxxx </p>
              <p><strong>Resumen de la justificación de la novedad: </strong></p>
              <p>
                xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
              </p>
              <mat-card-title class="header-card--text sub-text">
                Plazo solicitado
              </mat-card-title>
              <p><strong>Fecha de inicio de la suspensión: </strong> xxxxxxxxxxxxxxxxxx</p>
              <p><strong>Fecha final de la suspensión: </strong> xxxxxxxxxxxxxxxxxx</p>
              <p><strong>¿Cuenta con la documentación soporte suficiente?: </strong> No</p>
              <p><strong>Concepto técnico: </strong></p>
              <p>
                xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
              </p>
              <p><strong>Fecha concepto técnico: </strong> xxxxxxxxxxxxxxxxxx</p>
              <p><strong>Número de radicado en FFIE de solicitud: </strong> xxxxxxxxxxxxxxxxxx</p>
            </mat-card-content>
          </mat-card>
        </mat-expansion-panel>
      </mat-accordion>
    </mat-expansion-panel>
    <mat-expansion-panel class="expansion-style">
      <mat-expansion-panel-header class="expansion-style--header">
        <mat-panel-title class="expansion-style--title">
          Soporte de la solicitud
        </mat-panel-title>
      </mat-expansion-panel-header>

      <mat-card class="shipping-card var-main-gris">
        <mat-card-header class="header-card header-card--margin">
          <mat-card-title class="header-card--text">
            Soporte del registro del proceso
          </mat-card-title>
        </mat-card-header>
        <mat-card-content>

          <p>
            <strong>
              URL con soporte:
            </strong>
            <a href="https://drive.google.com/drive/registrodecontroversiacontractual/registrosolicituddenovedad"
              target="_blank" rel="noopener noreferrer">
              https://drive.google.com/drive/registrodecontroversiacontractual/registrosolicituddenovedad
            </a>
          </p>

        </mat-card-content>
      </mat-card>

    </mat-expansion-panel>
  </mat-accordion>

  <div *ngIf="true">
    <mat-card class="shipping-card var-main-gris">
      <mat-card-header class="header-card header-card--margin">
        <mat-card-title class="header-card--text">
          Observaciones del supervisor
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>

        <p>
          <strong>
            20/10/2020
          </strong>
        </p>
        <p>
          No es posible acceder a la ruta de soporte, verificar la URL.
        </p>

      </mat-card-content>
    </mat-card>
  </div>

  <div *ngIf="true">
    <table class="mat-table cdk-table mat-sort mat-table-style table-form table-form--2 table-gris">
      <thead>
        <tr class="mat-header-row cdk-header-row ng-star-inserted">
          <th class="mat-header-cell cdk-header-cell ng-star-inserted">
            Fecha de revisión
          </th>
          <th class="mat-header-cell cdk-header-cell ng-star-inserted">
            Responsable de la observación
          </th>
          <th class="mat-header-cell cdk-header-cell ng-star-inserted">
            Historial de observaciones
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let observacion of listaObservaciones">
          <td class="mat-cell cdk-cell ng-star-inserted">
            {{ observacion.fecha }}
          </td>
          <td class="mat-cell cdk-cell ng-star-inserted">
            {{ observacion.responsable }}
          </td>
          <td class="mat-cell cdk-cell ng-star-inserted">
            {{ observacion.historial }}
          </td>
        </tr>
      </tbody>
    </table>
  </div>


</section>