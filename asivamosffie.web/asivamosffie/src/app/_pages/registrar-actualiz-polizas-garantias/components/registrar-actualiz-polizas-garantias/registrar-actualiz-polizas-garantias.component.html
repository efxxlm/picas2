<section class="container">
    <div class="text-right">
        <a routerLink="/home" mat-button color="primary" class="btn-regresar">
            <img src="assets/img/icon/regresar.svg" alt="Regresar">
        </a>
    </div>
    <div class="text-center">
        <h1 class="title-menu--h1">
            Registrar actualizaciones de pólizas y garantías
        </h1>
        <button mat-mini-fab color="primary" class="btn-info" (click)="verAyuda = !verAyuda">?</button>

        <div class="text-info" *ngIf="verAyuda">
            <button mat-icon-button (click)="verAyuda = false" class="text-info--close">
                <img src="assets/img/icon/cerrar-gris.svg" alt="cerrar ayuda">
            </button>
            Bienvenida/o, aquí podrá registrar actualizaciones de pólizas y garantías para los contratos de obra e
            interventoría que se encuentran firmados,
            registrados y son ejecutados en el marco de la gestión del FFIE.
        </div>
    </div>
    <form [formGroup]="addressForm">
        <div class="row" style="margin-top: 2em; justify-content: center">
            <div class="col-md-6">
                <div class="row">
                    <div class="pr-1">
                        <label  class="label-left"
                                for="numeroContrato"
                                [class.color-secondaryColor]="(addressForm.get('numeroContrato').invalid && addressForm.get('numeroContrato').touched) || (addressForm.get('numeroContrato').invalid && estaEditando)">
                                Número de contrato
                        </label>
                    </div>
                    <div class="col d-flex">
                        <mat-form-field class="full-width">
                            <input  matInput
                                    #numeroContrato
                                    type="text"
                                    maxlength="100"
                                    required
                                    formControlName="numeroContrato">
                        </mat-form-field>
                        <button mat-button
                                color="primary"
                                class="busqueda--img"
                                type="button"
                                (click)="getContratos()">
                                <img src="assets/img/icon/lupa.svg" alt="Buscar">
                        </button>
                    </div>
                    <span class="icon-incompleto">
                        <img    class="icon-incompleto--img"
                                src="assets/img/icon/incompleto.svg"
                                alt="este campo es requerido"
                                [matTooltipPosition]="'above'"
                                matTooltip="Debe ingresar la información en el campo para continuar"
                                matTooltipClass="info-tooltip"
                                *ngIf="(addressForm.get('numeroContrato').invalid && addressForm.get('numeroContrato').touched) || (addressForm.get('numeroContrato').invalid && estaEditando)">
                    </span>
                </div>
            </div>
        </div>
    </form>

    <app-tabla-lista-contratos *ngIf="listContrato.length > 0" [listContrato]="listContrato"></app-tabla-lista-contratos>

    <app-tabla-general-rapg *ngIf="listActualizacion.length > 0" [listaActualizacionPoliza]="listActualizacion"></app-tabla-general-rapg>
</section>