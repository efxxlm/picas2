<div
  *ngIf="tipoProponente.invalid && tipoProponente.touched"
  class="animateDown my-1em color-secondaryColor d-flex align-items-center justify-content-center"
>
  <img class="icon-incompleto--img mr-05em" src="assets/img/icon/incompleto.svg" alt="este campo es requerido" />
  Debe ingresar la información en el campo para continuar
</div>
<div class="row justify-content-center">
  <div class="pr-1">
    <label class="label-left">Tipos de proponente</label>
  </div>
  <div class="col-md-5">
    <mat-form-field class="select-width">
      <mat-select [formControl]="tipoProponente" (selectionChange)="limpiarForms()" required>
        <mat-option *ngFor="let proponente of listaProponentes" [value]="proponente">
          {{ proponente.nombre }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
</div>

<form
  *ngIf="tipoProponente.value.codigo == 1"
  [formGroup]="personaNaturalForm"
  novalidate
  (ngSubmit)="onSubmitPersonaNatural()"
>
  <mat-card class="shipping-card">
    <mat-card-header class="header-card header-card--margin">
      <mat-card-title class="header-card--text"> Persona natural </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="row">
        <div class="pr-1">
          <label
            for="nombre"
            class="label-left"
            [class.color-secondaryColor]="
              (myControl.invalid && myControl.touched) || (myControl.invalid && estaEditando)
            "
          >
            Nombre del proponente
          </label>
        </div>
        <div class="col d-flex">
          <mat-form-field class="full-width">
            <input
              matInput
              #nombre
              type="text"
              maxlength="1000"
              [formControl]="myControl"
              required
              [matAutocomplete]="auto"
            />
            <mat-autocomplete #auto="matAutocomplete">
              <mat-option
                (click)="seleccionAutocomplete(nombres)"
                *ngFor="let nombres of filteredName | async"
                [value]="nombres"
              >
                {{ nombres }}
              </mat-option>
            </mat-autocomplete>
            <input type="hidden" formControlName="procesoSeleccionProponenteId" />
          </mat-form-field>
          <span
            class="contador miles"
            [matTooltipPosition]="'above'"
            matTooltip="Campo alfanumérico"
            matTooltipClass="info-tooltip"
          >
            {{ 1000 - nombre.value.length }}
          </span>
          <span class="icon-incompleto">
            <img
              class="icon-incompleto--img"
              src="assets/img/icon/incompleto.svg"
              alt="este campo es requerido"
              *ngIf="(myControl.invalid && myControl.touched) || (myControl.invalid && estaEditando)"
            />
          </span>
        </div>
      </div>
      <div class="row">
        <div class="col-md-8">
          <div class="row">
            <div class="pr-1">
              <label
                for="numeroIdentificacion"
                class="label-left"
                [class.color-secondaryColor]="
                  (personaNaturalForm.get('numeroIdentificacion').invalid &&
                    personaNaturalForm.get('numeroIdentificacion').touched) ||
                  (personaNaturalForm.get('numeroIdentificacion').invalid && estaEditando)
                "
              >
                Número de identificación del proponente
              </label>
            </div>
            <div class="col d-flex">
              <mat-form-field class="full-width">
                <input
                  matInput
                  #numeroIdentificacion
                  type="number"
                  maxlength="12"
                  formControlName="numeroIdentificacion"
                  (keypress)="validateNumberKeypress($event)"
                  onKeyPress="if(this.value.length>=this.maxLength) return false;"
                  required
                />
              </mat-form-field>
              <span
                class="contador"
                [matTooltipPosition]="'above'"
                matTooltip="Campo numérico"
                matTooltipClass="info-tooltip"
              >
                {{ 12 - numeroIdentificacion.value.length }}
              </span>
              <span class="icon-incompleto">
                <img
                  class="icon-incompleto--img"
                  src="assets/img/icon/incompleto.svg"
                  alt="este campo es requerido"
                  *ngIf="
                    (personaNaturalForm.get('numeroIdentificacion').invalid &&
                      personaNaturalForm.get('numeroIdentificacion').touched) ||
                    (personaNaturalForm.get('numeroIdentificacion').invalid && estaEditando)
                  "
                />
              </span>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-8">
          <div class="row">
            <div class="pr-1">
              <label
                for="depaetamento"
                class="label-left"
                [class.color-secondaryColor]="
                  (personaNaturalForm.get('depaetamento').invalid && personaNaturalForm.get('depaetamento').touched) ||
                  (personaNaturalForm.get('depaetamento').invalid && estaEditando)
                "
              >
                Departamento del domicilio del proponente
              </label>
            </div>
            <div class="col">
              <mat-form-field class="select-width capitalize">
                <mat-select formControlName="depaetamento" required (selectionChange)="changeDepartamento()">
                  <mat-option *ngFor="let departamento of listaDepartamentos" class="capitalize" [value]="departamento">
                    {{ departamento.descripcion }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <span class="icon-incompleto">
              <img
                class="icon-incompleto--img"
                src="assets/img/icon/incompleto.svg"
                alt="este campo es requerido"
                *ngIf="
                  (personaNaturalForm.get('depaetamento').invalid && personaNaturalForm.get('depaetamento').touched) ||
                  (personaNaturalForm.get('depaetamento').invalid && estaEditando)
                "
              />
            </span>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-8">
          <div class="row">
            <div class="pr-1">
              <label
                for="municipio"
                class="label-left"
                [class.color-secondaryColor]="
                  (personaNaturalForm.get('municipio').invalid && personaNaturalForm.get('municipio').touched) ||
                  (personaNaturalForm.get('municipio').invalid && estaEditando)
                "
              >
                Municipio del domicilio del proponente
              </label>
            </div>
            <div class="col">
              <mat-form-field class="select-width capitalize">
                <mat-select formControlName="municipio" required>
                  <mat-option *ngFor="let municipio of listaMunicipios" class="capitalize" [value]="municipio">
                    {{ municipio.descripcion }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <span class="icon-incompleto">
              <img
                class="icon-incompleto--img"
                src="assets/img/icon/incompleto.svg"
                alt="este campo es requerido"
                *ngIf="
                  (personaNaturalForm.get('municipio').invalid && personaNaturalForm.get('municipio').touched) ||
                  (personaNaturalForm.get('municipio').invalid && estaEditando)
                "
              />
            </span>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="pr-1">
          <label
            for="direccion"
            class="label-left"
            [class.color-secondaryColor]="
              (personaNaturalForm.get('direccion').invalid && personaNaturalForm.get('direccion').touched) ||
              (personaNaturalForm.get('direccion').invalid && estaEditando)
            "
          >
            Dirección del proponente
          </label>
        </div>
        <div class="col d-flex">
          <mat-form-field class="full-width">
            <input matInput #direccion type="text" maxlength="500" formControlName="direccion" required />
          </mat-form-field>
          <span
            class="contador"
            [matTooltipPosition]="'above'"
            matTooltip="Campo alfanumérico"
            matTooltipClass="info-tooltip"
          >
            {{ 500 - direccion.value.length }}
          </span>
          <span class="icon-incompleto">
            <img
              class="icon-incompleto--img"
              src="assets/img/icon/incompleto.svg"
              alt="este campo es requerido"
              *ngIf="
                (personaNaturalForm.get('direccion').invalid && personaNaturalForm.get('direccion').touched) ||
                (personaNaturalForm.get('direccion').invalid && estaEditando)
              "
            />
          </span>
        </div>
      </div>
      <div class="row">
        <div class="col-md-8">
          <div class="row">
            <div class="pr-1">
              <label
                for="telefono"
                class="label-left"
                [class.color-secondaryColor]="
                  (personaNaturalForm.get('telefono').invalid && personaNaturalForm.get('telefono').touched) ||
                  (personaNaturalForm.get('telefono').invalid && estaEditando)
                "
              >
                Teléfono del proponente
              </label>
            </div>
            <div class="col d-flex">
              <mat-form-field class="full-width">
                <input
                  matInput
                  #telefono
                  type="number"
                  maxlength="10"
                  formControlName="telefono"
                  required
                  (keypress)="validateNumberKeypress($event)"
                  onKeyPress="if(this.value.length>=this.maxLength) return false;"
                />
              </mat-form-field>
              <span
                class="contador"
                [matTooltipPosition]="'above'"
                matTooltip="Campo numérico"
                matTooltipClass="info-tooltip"
              >
                {{ 10 - telefono.value.length }}
              </span>
              <span class="icon-incompleto">
                <img
                  class="icon-incompleto--img"
                  src="assets/img/icon/incompleto.svg"
                  alt="este campo es requerido"
                  *ngIf="
                    (personaNaturalForm.get('telefono').invalid && personaNaturalForm.get('telefono').touched) ||
                    (personaNaturalForm.get('telefono').invalid && estaEditando)
                  "
                />
              </span>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="pr-1">
          <label
            for="correoElectronico"
            class="label-left"
            [class.color-secondaryColor]="
              (personaNaturalForm.get('correoElectronico').invalid &&
                personaNaturalForm.get('correoElectronico').touched) ||
              (personaNaturalForm.get('correoElectronico').invalid && estaEditando)
            "
          >
            Correo electrónico del proponente
          </label>
        </div>
        <div class="col d-flex">
          <mat-form-field class="full-width">
            <input
              matInput
              #correoElectronico
              type="email"
              maxlength="1000"
              formControlName="correoElectronico"
              required
            />
          </mat-form-field>
          <span
            class="contador miles"
            [matTooltipPosition]="'above'"
            matTooltip="Campo alfanumérico"
            matTooltipClass="info-tooltip"
          >
            {{ 1000 - correoElectronico.value.length }}
          </span>
          <span class="icon-incompleto">
            <img
              class="icon-incompleto--img"
              src="assets/img/icon/incompleto.svg"
              alt="este campo es requerido"
              *ngIf="
                (personaNaturalForm.get('correoElectronico').invalid &&
                  personaNaturalForm.get('correoElectronico').touched) ||
                (personaNaturalForm.get('correoElectronico').invalid && estaEditando)
              "
            />
          </span>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
  <div class="text-center">
    <button *ngIf="editar" mat-button color="warn" class="btn-guardar" type="submit">
      <img src="assets/img/icon/guardar.svg" alt="Regresar" />
    </button>
  </div>
</form>

<form
  *ngIf="tipoProponente.value.codigo == 2"
  [formGroup]="personaJuridicaIndividualForm"
  novalidate
  (ngSubmit)="onSubmitPersonaJuridicaIndividual()"
>
  <mat-card class="shipping-card">
    <mat-card-header class="header-card header-card--margin">
      <mat-card-title class="header-card--text"> Persona jurídica - individual </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="row">
        <div class="pr-1">
          <label
            for="nombre"
            class="label-left"
            [class.color-secondaryColor]="
              (myJuridica.invalid && myJuridica.touched) || (myJuridica.invalid && estaEditando)
            "
          >
            Nombre
          </label>
        </div>
        <div class="col d-flex">
          <mat-form-field class="full-width">
            <input
              matInput
              #nombre2
              type="text"
              maxlength="1000"
              [formControl]="myJuridica"
              required
              [matAutocomplete]="auto2"
            />
            <mat-autocomplete #auto2="matAutocomplete">
              <mat-option
                (click)="seleccionAutocomplete(nombres)"
                *ngFor="let nombres of filteredNameJuridica | async"
                [value]="nombres"
              >
                {{ nombres }}
              </mat-option>
            </mat-autocomplete>
            <input type="hidden" formControlName="procesoSeleccionProponenteId" />
          </mat-form-field>
          <span
            class="contador miles"
            [matTooltipPosition]="'above'"
            matTooltip="Campo alfanumérico"
            matTooltipClass="info-tooltip"
          >
            {{ 1000 - nombre2.value.length }}
          </span>
          <span class="icon-incompleto">
            <img
              class="icon-incompleto--img"
              src="assets/img/icon/incompleto.svg"
              alt="este campo es requerido"
              *ngIf="(myJuridica.invalid && myJuridica.touched) || (myJuridica.invalid && estaEditando)"
            />
          </span>
        </div>
      </div>
      <div class="row">
        <div class="col-md-8">
          <div class="row">
            <div class="pr-1">
              <label
                for="numeroIdentificacion"
                class="label-left"
                [class.color-secondaryColor]="
                  (personaJuridicaIndividualForm.get('numeroIdentificacion').invalid &&
                    personaJuridicaIndividualForm.get('numeroIdentificacion').touched) ||
                  (personaJuridicaIndividualForm.get('numeroIdentificacion').invalid && estaEditando)
                "
              >
                Número de identificación tributaria (NIT)
              </label>
            </div>
            <div class="col d-flex">
              <mat-form-field class="full-width">
                <input
                  matInput
                  #numeroIdentificacion2
                  type="number"
                  maxlength="12"
                  formControlName="numeroIdentificacion"
                  (keypress)="validateNumberKeypress($event)"
                  onKeyPress="if(this.value.length>=this.maxLength) return false;"
                  required
                />
              </mat-form-field>
              <span
                class="contador"
                [matTooltipPosition]="'above'"
                matTooltip="Campo numérico"
                matTooltipClass="info-tooltip"
              >
                {{ 12 - numeroIdentificacion2.value.length }}
              </span>
              <span class="icon-incompleto">
                <img
                  class="icon-incompleto--img"
                  src="assets/img/icon/incompleto.svg"
                  alt="este campo es requerido"
                  *ngIf="
                    (personaJuridicaIndividualForm.get('numeroIdentificacion').invalid &&
                      personaJuridicaIndividualForm.get('numeroIdentificacion').touched) ||
                    (personaJuridicaIndividualForm.get('numeroIdentificacion').invalid && estaEditando)
                  "
                />
              </span>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="row">
            <div class="pr-1">
              <label
                for="representanteLegal"
                class="label-left"
                [class.color-secondaryColor]="
                  (representanteLegal.invalid && representanteLegal.touched) ||
                  (representanteLegal.invalid && estaEditando)
                "
              >
                Representante legal
              </label>
            </div>
            <div class="col d-flex">
              <mat-form-field class="full-width">
                <input
                  matInput
                  #representanteLegal2
                  type="text"
                  maxlength="1000"
                  [formControl]="representanteLegal"
                  required
                  [matAutocomplete]="auto4"
                />
                <mat-autocomplete #auto4="matAutocomplete">
                  <mat-option
                    (click)="seleccionAutocomplete2(nombres)"
                    *ngFor="let nombres of filteredNameJuridicaName | async"
                    [value]="nombres"
                  >
                    {{ nombres }}
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>
              <span
                class="contador miles"
                [matTooltipPosition]="'above'"
                matTooltip="Campo alfanumérico"
                matTooltipClass="info-tooltip"
              >
                {{ 1000 - representanteLegal2.value.length }}
              </span>
              <span class="icon-incompleto">
                <img
                  class="icon-incompleto--img"
                  src="assets/img/icon/incompleto.svg"
                  alt="este campo es requerido"
                  *ngIf="
                    (representanteLegal.invalid && representanteLegal.touched) ||
                    (representanteLegal.invalid && estaEditando)
                  "
                />
              </span>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-8">
          <div class="row">
            <div class="pr-1">
              <label
                for="cedulaRepresentanteLegal"
                class="label-left"
                [class.color-secondaryColor]="
                  (personaJuridicaIndividualForm.get('cedulaRepresentanteLegal').invalid &&
                    personaJuridicaIndividualForm.get('cedulaRepresentanteLegal').touched) ||
                  (personaJuridicaIndividualForm.get('cedulaRepresentanteLegal').invalid && estaEditando)
                "
              >
                Cédula del representante legal
              </label>
            </div>
            <div class="col d-flex">
              <mat-form-field class="full-width">
                <input
                  matInput
                  #cedulaRepresentanteLegal2
                  type="number"
                  maxlength="12"
                  formControlName="cedulaRepresentanteLegal"
                  (keypress)="validateNumberKeypress($event)"
                  onKeyPress="if(this.value.length>=this.maxLength) return false;"
                  required
                />
              </mat-form-field>
              <span
                class="contador"
                [matTooltipPosition]="'above'"
                matTooltip="Campo numérico"
                matTooltipClass="info-tooltip"
              >
                {{ 12 - cedulaRepresentanteLegal2.value.length }}
              </span>
              <span class="icon-incompleto">
                <img
                  class="icon-incompleto--img"
                  src="assets/img/icon/incompleto.svg"
                  alt="este campo es requerido"
                  *ngIf="
                    (personaJuridicaIndividualForm.get('cedulaRepresentanteLegal').invalid &&
                      personaJuridicaIndividualForm.get('cedulaRepresentanteLegal').touched) ||
                    (personaJuridicaIndividualForm.get('cedulaRepresentanteLegal').invalid && estaEditando)
                  "
                />
              </span>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-8">
          <div class="row">
            <div class="pr-1">
              <label
                for="depaetamento"
                class="label-left"
                [class.color-secondaryColor]="
                  (personaJuridicaIndividualForm.get('depaetamento').invalid &&
                    personaJuridicaIndividualForm.get('depaetamento').touched) ||
                  (personaJuridicaIndividualForm.get('depaetamento').invalid && estaEditando)
                "
              >
                Departamento del domicilio del proponente
              </label>
            </div>
            <div class="col">
              <mat-form-field class="select-width capitalize">
                <mat-select formControlName="depaetamento" required (selectionChange)="changeDepartamento()">
                  <mat-option *ngFor="let departamento of listaDepartamentos" class="capitalize" [value]="departamento">
                    {{ departamento.descripcion }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <span class="icon-incompleto">
              <img
                class="icon-incompleto--img"
                src="assets/img/icon/incompleto.svg"
                alt="este campo es requerido"
                *ngIf="
                  (personaJuridicaIndividualForm.get('depaetamento').invalid &&
                    personaJuridicaIndividualForm.get('depaetamento').touched) ||
                  (personaJuridicaIndividualForm.get('depaetamento').invalid && estaEditando)
                "
              />
            </span>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-8">
          <div class="row">
            <div class="pr-1">
              <label
                for="municipio"
                class="label-left"
                [class.color-secondaryColor]="
                  (personaJuridicaIndividualForm.get('municipio').invalid &&
                    personaJuridicaIndividualForm.get('municipio').touched) ||
                  (personaJuridicaIndividualForm.get('municipio').invalid && estaEditando)
                "
              >
                Municipio del domicilio del proponente
              </label>
            </div>
            <div class="col">
              <mat-form-field class="select-width capitalize">
                <mat-select formControlName="municipio" required>
                  <mat-option *ngFor="let municipio of listaMunicipios" class="capitalize" [value]="municipio">
                    {{ municipio.descripcion }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <span class="icon-incompleto">
              <img
                class="icon-incompleto--img"
                src="assets/img/icon/incompleto.svg"
                alt="este campo es requerido"
                *ngIf="
                  (personaJuridicaIndividualForm.get('municipio').invalid &&
                    personaJuridicaIndividualForm.get('municipio').touched) ||
                  (personaJuridicaIndividualForm.get('municipio').invalid && estaEditando)
                "
              />
            </span>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="row">
            <div class="pr-1">
              <label
                for="direccion"
                class="label-left"
                [class.color-secondaryColor]="
                  (personaJuridicaIndividualForm.get('direccion').invalid &&
                    personaJuridicaIndividualForm.get('direccion').touched) ||
                  (personaJuridicaIndividualForm.get('direccion').invalid && estaEditando)
                "
              >
                Dirección del proponente
              </label>
            </div>
            <div class="col d-flex">
              <mat-form-field class="full-width">
                <input matInput #direccion2 type="text" maxlength="500" formControlName="direccion" required />
              </mat-form-field>
              <span
                class="contador"
                [matTooltipPosition]="'above'"
                matTooltip="Campo alfanumérico"
                matTooltipClass="info-tooltip"
              >
                {{ 500 - direccion2.value.length }}
              </span>
              <span class="icon-incompleto">
                <img
                  class="icon-incompleto--img"
                  src="assets/img/icon/incompleto.svg"
                  alt="este campo es requerido"
                  *ngIf="
                    (personaJuridicaIndividualForm.get('direccion').invalid &&
                      personaJuridicaIndividualForm.get('direccion').touched) ||
                    (personaJuridicaIndividualForm.get('direccion').invalid && estaEditando)
                  "
                />
              </span>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-8">
          <div class="row">
            <div class="pr-1">
              <label
                for="telefono"
                class="label-left"
                [class.color-secondaryColor]="
                  (personaJuridicaIndividualForm.get('telefono').invalid &&
                    personaJuridicaIndividualForm.get('telefono').touched) ||
                  (personaJuridicaIndividualForm.get('telefono').invalid && estaEditando)
                "
              >
                Teléfono del proponente
              </label>
            </div>
            <div class="col d-flex">
              <mat-form-field class="full-width">
                <input
                  matInput
                  #telefono2
                  type="number"
                  maxlength="10"
                  formControlName="telefono"
                  required
                  (keypress)="validateNumberKeypress($event)"
                  onKeyPress="if(this.value.length>=this.maxLength) return false;"
                />
              </mat-form-field>
              <span
                class="contador"
                [matTooltipPosition]="'above'"
                matTooltip="Campo numérico"
                matTooltipClass="info-tooltip"
              >
                {{ 10 - telefono2.value.length }}
              </span>
              <span class="icon-incompleto">
                <img
                  class="icon-incompleto--img"
                  src="assets/img/icon/incompleto.svg"
                  alt="este campo es requerido"
                  *ngIf="
                    (personaJuridicaIndividualForm.get('telefono').invalid &&
                      personaJuridicaIndividualForm.get('telefono').touched) ||
                    (personaJuridicaIndividualForm.get('telefono').invalid && estaEditando)
                  "
                />
              </span>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="row">
            <div class="pr-1">
              <label
                for="correoElectronico"
                class="label-left"
                [class.color-secondaryColor]="
                  (personaJuridicaIndividualForm.get('correoElectronico').invalid &&
                    personaJuridicaIndividualForm.get('correoElectronico').touched) ||
                  (personaJuridicaIndividualForm.get('correoElectronico').invalid && estaEditando)
                "
              >
                Correo electrónico del proponente
              </label>
            </div>
            <div class="col d-flex">
              <mat-form-field class="full-width">
                <input
                  matInput
                  #correoElectronico2
                  type="email"
                  maxlength="1000"
                  formControlName="correoElectronico"
                  required
                />
              </mat-form-field>
              <span
                class="contador miles"
                [matTooltipPosition]="'above'"
                matTooltip="Campo alfanumérico"
                matTooltipClass="info-tooltip"
              >
                {{ 1000 - correoElectronico2.value.length }}
              </span>
              <span class="icon-incompleto">
                <img
                  class="icon-incompleto--img"
                  src="assets/img/icon/incompleto.svg"
                  alt="este campo es requerido"
                  *ngIf="
                    (personaJuridicaIndividualForm.get('correoElectronico').invalid &&
                      personaJuridicaIndividualForm.get('correoElectronico').touched) ||
                    (personaJuridicaIndividualForm.get('correoElectronico').invalid && estaEditando)
                  "
                />
              </span>
            </div>
          </div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
  <div class="text-center">
    <button *ngIf="editar" mat-button color="warn" class="btn-guardar" type="submit">
      <img src="assets/img/icon/guardar.svg" alt="Regresar" />
    </button>
  </div>
</form>

<form
  *ngIf="tipoProponente.value.codigo == 4"
  [formGroup]="unionTemporalForm"
  novalidate
  (ngSubmit)="onSubmitUnionTemporal()"
>
  <mat-card class="shipping-card">
    <mat-card-content>
      <div class="row">
        <div class="col-md-8">
          <div class="row">
            <div class="pr-1">
              <label
                for="cuantasEntidades"
                class="label-left"
                [class.color-secondaryColor]="
                  (unionTemporalForm.get('cuantasEntidades').invalid &&
                    unionTemporalForm.get('cuantasEntidades').touched) ||
                  (unionTemporalForm.get('cuantasEntidades').invalid && estaEditando)
                "
              >
                ¿Cuántas entidades integran la unión temporal?
              </label>
            </div>
            <div class="col d-flex">
              <mat-form-field class="full-width">
                <input
                  matInput
                  #cuantasEntidades
                  type="number"
                  min="1"
                  max="99"
                  formControlName="cuantasEntidades"
                  (keyup)="CambioNumeroCotizantes()"
                  maxlength="2"
                  (keypress)="validateNumberKeypress($event)"
                  onKeyPress="if(this.value.length>=this.maxLength) return false;"
                  required
                />
                <input type="hidden" formControlName="procesoSeleccionProponenteId" />
              </mat-form-field>
              <span
                class="contador"
                [matTooltipPosition]="'above'"
                matTooltip="Campo numérico"
                matTooltipClass="info-tooltip"
              >
                {{ 2 - cuantasEntidades.value.length }}
              </span>
              <span class="icon-incompleto">
                <img
                  class="icon-incompleto--img"
                  src="assets/img/icon/incompleto.svg"
                  alt="este campo es requerido"
                  *ngIf="
                    (unionTemporalForm.get('cuantasEntidades').invalid &&
                      unionTemporalForm.get('cuantasEntidades').touched) ||
                    (unionTemporalForm.get('cuantasEntidades').invalid && estaEditando)
                  "
                />
              </span>
            </div>
          </div>
        </div>
      </div>
      <div
        *ngIf="
          unionTemporalForm.controls.cuantasEntidades.value > 0 &&
          unionTemporalForm.controls.cuantasEntidades.value < 100
        "
      >
        <div class="row">
          <div class="col-md-12">
            <div class="row">
              <div class="pr-1">
                <label
                  for="nombreConsorcio"
                  class="label-left"
                  [class.color-secondaryColor]="
                    (unionTemporalForm.get('nombreConsorcio').invalid &&
                      unionTemporalForm.get('nombreConsorcio').touched) ||
                    (unionTemporalForm.get('nombreConsorcio').invalid && estaEditando)
                  "
                >
                  Nombre de la UT o Consorcio
                </label>
              </div>
              <div class="col d-flex">
                <mat-form-field class="full-width">
                  <input matInput #nombre3 type="text" maxlength="1000" formControlName="nombreConsorcio" required />
                </mat-form-field>
                <span
                  class="contador miles"
                  [matTooltipPosition]="'above'"
                  matTooltip="Campo alfanumérico"
                  matTooltipClass="info-tooltip"
                >
                  {{ 1000 - nombre3.value.length }}
                </span>
                <span class="icon-incompleto">
                  <img
                    class="icon-incompleto--img"
                    src="assets/img/icon/incompleto.svg"
                    alt="este campo es requerido"
                    *ngIf="
                      (unionTemporalForm.get('nombreConsorcio').invalid &&
                        unionTemporalForm.get('nombreConsorcio').touched) ||
                      (unionTemporalForm.get('nombreConsorcio').invalid && estaEditando)
                    "
                  />
                </span>
              </div>
            </div>
          </div>
        </div>
        <h2 class="card-subTitle">Integrantes</h2>
        <div formGroupName="entidades">
          <div *ngFor="let entidad of entidades.controls; let i = index">
            <div [formGroupName]="i">
              <mat-card-title class="header-card--text sub-text"> Integrante {{ i + 1 }} </mat-card-title>
              <div class="row">
                <div class="col-md-12">
                  <div class="row">
                    <div class="pr-1">
                      <label
                        for="nombre"
                        class="label-left"
                        [class.color-secondaryColor]="
                          (entidad.get('nombre').invalid && entidad.get('nombre').touched) ||
                          (entidad.get('nombre').invalid && estaEditando)
                        "
                      >
                        Nombre
                      </label>
                    </div>
                    <div class="col d-flex">
                      <mat-form-field class="full-width">
                        <input matInput #nombre3 type="text" maxlength="1000" formControlName="nombre" required />
                      </mat-form-field>
                      <span
                        class="contador miles"
                        [matTooltipPosition]="'above'"
                        matTooltip="Campo alfanumérico"
                        matTooltipClass="info-tooltip"
                      >
                        {{ 1000 - nombre3.value.length }}
                      </span>
                      <span class="icon-incompleto">
                        <img
                          class="icon-incompleto--img"
                          src="assets/img/icon/incompleto.svg"
                          alt="este campo es requerido"
                          *ngIf="
                            (entidad.get('nombre').invalid && entidad.get('nombre').touched) ||
                            (entidad.get('nombre').invalid && estaEditando)
                          "
                        />
                      </span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-8">
                  <div class="row">
                    <div class="pr-1">
                      <label
                        for="porcentaje"
                        class="label-left"
                        [class.color-secondaryColor]="
                          (entidad.get('porcentaje').invalid && entidad.get('porcentaje').touched) ||
                          (entidad.get('porcentaje').invalid && estaEditando)
                        "
                      >
                        Porcentaje de participación
                      </label>
                    </div>
                    <div class="col d-flex">
                      <mat-form-field class="full-width">
                        <input
                          matInput
                          #porcentaje
                          type="number"
                          min="1"
                          max="100"
                          formControlName="porcentaje"
                          maxlength="3"
                          (keypress)="validateNumberKeypress($event)"
                          onKeyPress="if(this.value.length>=this.maxLength) return false;"
                          onkeyup="if(this.value>100) this.value = 100;"
                          required
                        />
                        <input type="hidden" formControlName="procesoSeleccionIntegranteId" />
                      </mat-form-field>
                      <span
                        class="contador"
                        [matTooltipPosition]="'above'"
                        matTooltip="Campo numérico"
                        matTooltipClass="info-tooltip"
                      >
                        %
                      </span>
                      <span class="icon-incompleto">
                        <img
                          class="icon-incompleto--img"
                          src="assets/img/icon/incompleto.svg"
                          alt="este campo es requerido"
                          *ngIf="
                            (entidad.get('porcentaje').invalid && entidad.get('porcentaje').touched) ||
                            (entidad.get('porcentaje').invalid && estaEditando)
                          "
                        />
                      </span>
                    </div>
                  </div>
                </div>
                <div class="col-md-4 text-right" *ngIf="unionTemporalForm.value.entidades.length > 1">
                  <button
                    *ngIf="editar"
                    mat-button
                    color="warn"
                    type="button"
                    class="btn-eliminar"
                    (click)="borrarIntegrante(entidades, i)"
                  >
                    <img src="assets/img/icon/menos.svg" alt="Eliminar integrante" />
                    Eliminar integrante
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <h2 class="card-subTitle">Datos del representante legal</h2>
        <!--no se ve en el ultimo diseño, lo vuelo jflorez
        <div class="row">
          <div class="col-md-8">
            <div class="row">
              <div class="pr-1">
                <label for="numeroIdentificacion" class="label-left">Número de identificación tributaria (NIT)</label>
              </div>
              <div class="col d-flex">
                <mat-form-field class="full-width">
                  <input matInput #numeroIdentificacion3 type="number" maxlength="12" formControlName="numeroIdentificacion" required>
                </mat-form-field>
                <span class="contador">{{12 - numeroIdentificacion3.value.length}}</span>
              </div>
            </div>
          </div>
        </div>-->
        <div class="row">
          <div class="col-md-12">
            <div class="row">
              <div class="pr-1">
                <label
                  for="representanteLegal"
                  class="label-left"
                  [class.color-secondaryColor]="
                    (myJuridica2.invalid && myJuridica2.touched) || (myJuridica2.invalid && estaEditando)
                  "
                >
                  Representante legal
                </label>
              </div>
              <div class="col d-flex">
                <mat-form-field class="full-width">
                  <input
                    matInput
                    #nombre
                    type="text"
                    maxlength="1000"
                    [formControl]="myJuridica2"
                    required
                    [matAutocomplete]="auto3"
                  />
                  <mat-autocomplete #auto3="matAutocomplete">
                    <mat-option
                      (click)="seleccionAutocomplete3(nombres)"
                      *ngFor="let nombres of filteredNameJuridica2 | async"
                      [value]="nombres"
                    >
                      {{ nombres }}
                    </mat-option>
                  </mat-autocomplete>
                </mat-form-field>
                <span
                  class="contador miles"
                  [matTooltipPosition]="'above'"
                  matTooltip="Campo alfanumérico"
                  matTooltipClass="info-tooltip"
                >
                  {{ 1000 - nombre.value.length }}
                </span>
                <span class="icon-incompleto">
                  <img
                    class="icon-incompleto--img"
                    src="assets/img/icon/incompleto.svg"
                    alt="este campo es requerido"
                    *ngIf="(myJuridica2.invalid && myJuridica2.touched) || (myJuridica2.invalid && estaEditando)"
                  />
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-8">
            <div class="row">
              <div class="pr-1">
                <label
                  for="cedulaRepresentanteLegal"
                  class="label-left"
                  [class.color-secondaryColor]="
                    (unionTemporalForm.get('cedulaRepresentanteLegal').invalid &&
                      unionTemporalForm.get('cedulaRepresentanteLegal').touched) ||
                    (unionTemporalForm.get('cedulaRepresentanteLegal').invalid && estaEditando)
                  "
                >
                  Cédula del representante legal
                </label>
              </div>
              <div class="col d-flex">
                <mat-form-field class="full-width">
                  <input
                    matInput
                    #numeroIdentificacion
                    type="number"
                    maxlength="12"
                    formControlName="cedulaRepresentanteLegal"
                    (keypress)="validateNumberKeypress($event)"
                    onKeyPress="if(this.value.length>=this.maxLength) return false;"
                    required
                  />
                </mat-form-field>
                <span
                  class="contador"
                  [matTooltipPosition]="'above'"
                  matTooltip="Campo numérico"
                  matTooltipClass="info-tooltip"
                >
                  {{ 12 - numeroIdentificacion.value.length }}
                </span>
                <span class="icon-incompleto">
                  <img
                    class="icon-incompleto--img"
                    src="assets/img/icon/incompleto.svg"
                    alt="este campo es requerido"
                    *ngIf="
                      (unionTemporalForm.get('cedulaRepresentanteLegal').invalid &&
                        unionTemporalForm.get('cedulaRepresentanteLegal').touched) ||
                      (unionTemporalForm.get('cedulaRepresentanteLegal').invalid && estaEditando)
                    "
                  />
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-8">
            <div class="row">
              <div class="pr-1">
                <label
                  for="depaetamento"
                  class="label-left"
                  [class.color-secondaryColor]="
                    (unionTemporalForm.get('depaetamento').invalid && unionTemporalForm.get('depaetamento').touched) ||
                    (unionTemporalForm.get('depaetamento').invalid && estaEditando)
                  "
                >
                  Departamento del domicilio del proponente
                </label>
              </div>
              <div class="col">
                <mat-form-field class="select-width capitalize">
                  <mat-select formControlName="depaetamento" required (selectionChange)="changeDepartamento()">
                    <mat-option
                      *ngFor="let departamento of listaDepartamentos"
                      class="capitalize"
                      [value]="departamento"
                    >
                      {{ departamento.descripcion }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <span class="icon-incompleto">
                <img
                  class="icon-incompleto--img"
                  src="assets/img/icon/incompleto.svg"
                  alt="este campo es requerido"
                  *ngIf="
                    (unionTemporalForm.get('depaetamento').invalid && unionTemporalForm.get('depaetamento').touched) ||
                    (unionTemporalForm.get('depaetamento').invalid && estaEditando)
                  "
                />
              </span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-8">
            <div class="row">
              <div class="pr-1">
                <label
                  for="municipio"
                  class="label-left"
                  [class.color-secondaryColor]="
                    (unionTemporalForm.get('municipio').invalid && unionTemporalForm.get('municipio').touched) ||
                    (unionTemporalForm.get('municipio').invalid && estaEditando)
                  "
                >
                  Municipio del domicilio del proponente
                </label>
              </div>
              <div class="col">
                <mat-form-field class="select-width capitalize">
                  <mat-select formControlName="municipio" required>
                    <mat-option *ngFor="let municipio of listaMunicipios" class="capitalize" [value]="municipio">
                      {{ municipio.descripcion }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <span class="icon-incompleto">
                <img
                  class="icon-incompleto--img"
                  src="assets/img/icon/incompleto.svg"
                  alt="este campo es requerido"
                  *ngIf="
                    (unionTemporalForm.get('municipio').invalid && unionTemporalForm.get('municipio').touched) ||
                    (unionTemporalForm.get('municipio').invalid && estaEditando)
                  "
                />
              </span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="row">
              <div class="pr-1">
                <label
                  [class.color-secondaryColor]="
                    (unionTemporalForm.get('direccion').invalid && unionTemporalForm.get('direccion').touched) ||
                    (unionTemporalForm.get('direccion').invalid && estaEditando)
                  "
                >
                  Dirección del proponente
                </label>
              </div>
              <div class="col d-flex">
                <mat-form-field class="full-width">
                  <input matInput #direccion3 type="text" maxlength="500" formControlName="direccion" required />
                </mat-form-field>
                <span
                  class="contador"
                  [matTooltipPosition]="'above'"
                  matTooltip="Campo alfanumérico"
                  matTooltipClass="info-tooltip"
                >
                  {{ 500 - direccion3.value.length }}
                </span>
                <span class="icon-incompleto">
                  <img
                    class="icon-incompleto--img"
                    src="assets/img/icon/incompleto.svg"
                    alt="este campo es requerido"
                    *ngIf="
                      (unionTemporalForm.get('direccion').invalid && unionTemporalForm.get('direccion').touched) ||
                      (unionTemporalForm.get('direccion').invalid && estaEditando)
                    "
                  />
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-8">
            <div class="row">
              <div class="pr-1">
                <label
                  for="telefono"
                  class="label-left"
                  [class.color-secondaryColor]="
                    (unionTemporalForm.get('telefono').invalid && unionTemporalForm.get('telefono').touched) ||
                    (unionTemporalForm.get('telefono').invalid && estaEditando)
                  "
                >
                  Teléfono del proponente
                </label>
              </div>
              <div class="col d-flex">
                <mat-form-field class="full-width">
                  <input
                    matInput
                    #telefono3
                    type="number"
                    maxlength="10"
                    formControlName="telefono"
                    required
                    (keypress)="validateNumberKeypress($event)"
                    onKeyPress="if(this.value.length>=this.maxLength) return false;"
                  />
                </mat-form-field>
                <span
                  class="contador"
                  [matTooltipPosition]="'above'"
                  matTooltip="Campo numérico"
                  matTooltipClass="info-tooltip"
                >
                  {{ 10 - telefono3.value.length }}
                </span>
                <span class="icon-incompleto">
                  <img
                    class="icon-incompleto--img"
                    src="assets/img/icon/incompleto.svg"
                    alt="este campo es requerido"
                    *ngIf="
                      (unionTemporalForm.get('telefono').invalid && unionTemporalForm.get('telefono').touched) ||
                      (unionTemporalForm.get('telefono').invalid && estaEditando)
                    "
                  />
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="row">
              <div class="pr-1">
                <label
                  for="correoElectronico"
                  class="label-left"
                  [class.color-secondaryColor]="
                    (unionTemporalForm.get('correoElectronico').invalid &&
                      unionTemporalForm.get('correoElectronico').touched) ||
                    (unionTemporalForm.get('correoElectronico').invalid && estaEditando)
                  "
                >
                  Correo electrónico del proponente
                </label>
              </div>
              <div class="col d-flex">
                <mat-form-field class="full-width">
                  <input
                    matInput
                    #correoElectronico3
                    type="email"
                    maxlength="1000"
                    formControlName="correoElectronico"
                    required
                  />
                </mat-form-field>
                <span
                  class="contador miles"
                  [matTooltipPosition]="'above'"
                  matTooltip="Campo alfanumérico"
                  matTooltipClass="info-tooltip"
                >
                  {{ 1000 - correoElectronico3.value.length }}
                </span>
                <span class="icon-incompleto">
                  <img
                    class="icon-incompleto--img"
                    src="assets/img/icon/incompleto.svg"
                    alt="este campo es requerido"
                    *ngIf="
                      (unionTemporalForm.get('correoElectronico').invalid &&
                        unionTemporalForm.get('correoElectronico').touched) ||
                      (unionTemporalForm.get('correoElectronico').invalid && estaEditando)
                    "
                  />
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
  <div class="text-center">
    <button *ngIf="editar" mat-button color="warn" class="btn-guardar" type="submit">
      <img src="assets/img/icon/guardar.svg" alt="Guardar" />
    </button>
  </div>
</form>
