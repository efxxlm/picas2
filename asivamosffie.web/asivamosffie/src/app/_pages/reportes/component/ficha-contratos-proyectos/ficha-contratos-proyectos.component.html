<section class="container mt-1em">
  <div class="text-center mb-1-5em">
    <h1 class="title-menu--h1">
      Ficha de contratos o proyectos
    </h1>
  </div>

  <div class="row">
    <div class="col-md-6 mx-auto">
      <div class="row justify-content-center mb-1em">
        <div class="pr-1">
          <label
            class="label-left"
            for="esMultiple"
            [class.color-secondaryColor]="tipoFicha.invalid && tipoFicha.touched"
          >
            Tipo de ficha
          </label>
        </div>
        <div class="col">
          <mat-form-field class="select-width">
            <mat-select [formControl]="tipoFicha" required>
              <mat-option *ngFor="let tipoFicha of listaTipoFicha" [value]="tipoFicha.value">
                {{ tipoFicha.name }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <span class="icon-incompleto">
          <img
            class="icon-incompleto--img"
            src="assets/img/icon/incompleto.svg"
            alt="este campo es requerido"
            [matTooltipPosition]="'above'"
            matTooltip="Debe ingresar la información en el campo para continuar"
            matTooltipClass="info-tooltip"
            *ngIf="tipoFicha.invalid && tipoFicha.touched"
          />
        </span>
      </div>
    </div>
  </div>

  <div class="animatedDown" *ngIf="tipoFicha.value === 'Ficha de contrato'">
    <form [formGroup]="addressForm" novalidate (ngSubmit)="onSubmit()">
      <mat-card class="shipping-card">
        <mat-card-header class="header-card header-card--margin">
          <mat-card-title class="header-card--text">
            Ficha de contrato
          </mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="row">
            <div class="col-md-12">
              <div class="row">
                <div class="pr-1">
                  <label
                    class="label-left"
                    for="numeroContrato"
                    [class.color-secondaryColor]="
                      addressForm.get('numeroContrato').invalid && addressForm.get('numeroContrato').touched
                    "
                  >
                    Número de contrato
                  </label>
                </div>
                <div class="col">
                  <mat-form-field class="select-width">
                    <mat-select formControlName="numeroContrato">
                      <mat-option *ngFor="let tipoFicha of listaTipoFicha" [value]="tipoFicha.value">
                        {{ tipoFicha.name }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="row">
                <div class="pr-1">
                  <label
                    class="label-left"
                    for="nombreContratista"
                    [class.color-secondaryColor]="
                      addressForm.get('nombreContratista').invalid && addressForm.get('nombreContratista').touched
                    "
                  >
                    Nombre del contratista
                  </label>
                </div>
                <div class="col">
                  <mat-form-field class="select-width">
                    <mat-select formControlName="nombreContratista">
                      <mat-option *ngFor="let tipoFicha of listaTipoFicha" [value]="tipoFicha.value">
                        {{ tipoFicha.name }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="row">
                <div class="pr-1">
                  <label
                    class="label-left"
                    for="departamento"
                    [class.color-secondaryColor]="
                      addressForm.get('departamento').invalid && addressForm.get('departamento').touched
                    "
                  >
                    Departamento
                  </label>
                </div>
                <div class="col">
                  <mat-form-field class="select-width">
                    <mat-select formControlName="departamento">
                      <mat-option *ngFor="let tipoFicha of listaTipoFicha" [value]="tipoFicha.value">
                        {{ tipoFicha.name }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="row">
                <div class="pr-1">
                  <label
                    class="label-left"
                    for="municipio"
                    [class.color-secondaryColor]="
                      addressForm.get('municipio').invalid && addressForm.get('municipio').touched
                    "
                  >
                    Municipio
                  </label>
                </div>
                <div class="col">
                  <mat-form-field class="select-width">
                    <mat-select formControlName="municipio">
                      <mat-option *ngFor="let tipoFicha of listaTipoFicha" [value]="tipoFicha.value">
                        {{ tipoFicha.name }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="row">
                <div class="pr-1">
                  <label
                    class="label-left"
                    for="institucionEducativa"
                    [class.color-secondaryColor]="
                      addressForm.get('institucionEducativa').invalid && addressForm.get('institucionEducativa').touched
                    "
                  >
                    Institución Educativa
                  </label>
                </div>
                <div class="col">
                  <mat-form-field class="select-width">
                    <mat-select formControlName="institucionEducativa">
                      <mat-option *ngFor="let tipoFicha of listaTipoFicha" [value]="tipoFicha.value">
                        {{ tipoFicha.name }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="row">
                <div class="pr-1">
                  <label
                    class="label-left"
                    for="dede"
                    [class.color-secondaryColor]="
                      addressForm.get('dede').invalid && addressForm.get('dede').touched
                    "
                  >
                    Sede
                  </label>
                </div>
                <div class="col">
                  <mat-form-field class="select-width">
                    <mat-select formControlName="dede">
                      <mat-option *ngFor="let tipoFicha of listaTipoFicha" [value]="tipoFicha.value">
                        {{ tipoFicha.name }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="row">
                <div class="pr-1">
                  <label
                    class="label-left"
                    for="tipoContrato"
                    [class.color-secondaryColor]="
                      addressForm.get('tipoContrato').invalid && addressForm.get('tipoContrato').touched
                    ">
                    Tipo de contrato
                  </label>
                </div>
                <div class="col">
                  <mat-form-field class="select-width">
                    <mat-select formControlName="tipoContrato">
                      <mat-option *ngFor="let tipoFicha of listaTipoFicha" [value]="tipoFicha.value">
                        {{ tipoFicha.name }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="row">
                <div class="pr-1">
                  <label
                    class="label-left"
                    for="vigenciaContratación"
                    [class.color-secondaryColor]="
                      addressForm.get('vigenciaContratación').invalid && addressForm.get('vigenciaContratación').touched
                    "
                  >
                    Vigencia de la contratación
                  </label>
                </div>
                <div class="col">
                  <mat-form-field class="select-width">
                    <mat-select formControlName="vigenciaContratación">
                      <mat-option *ngFor="let tipoFicha of listaTipoFicha" [value]="tipoFicha.value">
                        {{ tipoFicha.name }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
            </div>
          </div>
        </mat-card-content>
        <mat-card-actions class="text-center">
          <button
            mat-button
            color="primary"
            class="btn-buscar btn-borrar"
            type="button"
            (click)="reiniciarFiltro()"
            [disabled]="
              !addressForm.get('numeroContrato').value &&
              !addressForm.get('nombreContratista').value &&
              !addressForm.get('departamento').value &&
              !addressForm.get('municipio').value &&
              !addressForm.get('institucionEducativa').value &&
              !addressForm.get('dede').value &&
              !addressForm.get('tipoContrato').value &&
              !addressForm.get('vigenciaContratación').value
            "
          >
            <img src="assets/img/icon/borrar.svg" alt="buscar" />
          </button>

          <button
            mat-button
            color="primary"
            class="btn-buscar"
            type="submit"
          >
            <img src="assets/img/icon/lupa.svg" alt="buscar" />
            Buscar
          </button>
        </mat-card-actions>
      </mat-card>
    </form>
  </div>

  <div class="animatedDown" *ngIf="verResultados">
    <app-tabla-resultados (morstrarFicha)="verFicha( $event )"></app-tabla-resultados>
  </div>
  <div class="animatedDown" *ngIf="mostrarFicha">
    <app-menu-ficha></app-menu-ficha>
  </div>

</section>