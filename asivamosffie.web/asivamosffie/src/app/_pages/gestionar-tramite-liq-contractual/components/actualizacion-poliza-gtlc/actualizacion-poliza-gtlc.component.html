<mat-card class="shipping-card mainGris">
    <mat-card-content style="text-align: left;">
        <p><strong>Tipo de contrato: </strong> <em>Obra</em></p>
        <p><strong>Nombre del contratista: </strong> <em>Intervenrores S.A</em></p>
        <p><strong>Tipo de identificación: </strong> <em>NIT</em></p>
        <p><strong>Número de identificación: </strong> <em>900.675.987-4</em></p>
        <p><strong>Número de la póliza: </strong> <em>0000-9868</em></p>
        <p><strong>Nombre de la aseguradora:</strong> <em>Mapfre</em></p>
        <p><strong>Número de certificado: </strong> <em>CER404040</em></p>
        <p><strong>Fecha de expedición de la póliza: </strong> <em>25/06/2020</em></p>
        <p><strong>Fecha de aprobación: </strong> <em>18/07/2020</em></p>
    </mat-card-content>
</mat-card>
<div class="table-responsive">
    <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">
        <ng-container matColumnDef="polizaYSeguros">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Polizas y seguros </th>
            <td mat-cell *matCellDef="let element" align="center"> {{element.polizaYSeguros}} </td>
        </ng-container>
        <ng-container matColumnDef="responsableAprobacion">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Reponsable de la aprobación </th>
            <td mat-cell *matCellDef="let element" align="center"> {{element.responsableAprobacion}} </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
</div>
<mat-accordion>
    <mat-expansion-panel class="expansion-style sub-expansion">
        <mat-expansion-panel-header class="expansion-style--header">
            <mat-panel-title class="expansion-style--title">
                Razón y tipo de actualización
            </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-card class="shipping-card mainGris">
            <mat-card-content style="text-align: left;">
                <p><strong>Razón de la actualización: </strong><em>Terminación de contrato</em></p>
                <p><strong>Fecha de expedición de la actualización de la póliza: </strong><em>20/07/2021</em></p>
                <p><strong>Seguros que necesitan actualización: </strong><em>Buen manejo y correcta inversión del
                        anticipo, Garantía de estabilidad y calidad de la obra</em></p>
                <div style="margin-top: 1em;">
                    <mat-card-title class="header-card--text alineacion-titulos2"
                        style="padding-left: 0px; color: #474747;">
                        Buen manejo y correcta inversión del anticipo
                    </mat-card-title>
                    <p><strong>Tipo de actualización: </strong><em>Fecha, Valor</em></p>
                </div>
                <div style="margin-top: 1em;">
                    <mat-card-title class="header-card--text alineacion-titulos2"
                        style="padding-left: 0px; color: #474747;">
                        Garantía de estabilidad y calidad de la obra
                    </mat-card-title>
                    <p><strong>Tipo de actualización: </strong><em>Fecha, Valor</em></p>
                </div>
            </mat-card-content>
        </mat-card>
    </mat-expansion-panel>
    <mat-expansion-panel class="expansion-style sub-expansion">
        <mat-expansion-panel-header class="expansion-style--header">
            <mat-panel-title class="expansion-style--title">
                Vigencias y valor
            </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-accordion>
            <mat-expansion-panel class="expansion-style sub-expansion-black">
                <mat-expansion-panel-header class="expansion-style--header">
                    <mat-panel-title class="expansion-style--title">
                        Seguro 1
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <mat-card class="shipping-card mainGris">
                    <mat-card-header class="header-card header-card--margin">
                        <mat-card-title class="header-card--text textoGris">
                            Garantía de estabilidad y calidad de la obra
                        </mat-card-title>
                    </mat-card-header>
                    <mat-card-content style="text-align: left;">
                        <div style="margin-top: 1em;">
                            <p><strong>Vigencia de la póliza: </strong><em>30/03/2021</em></p>
                            <p><strong>Vigencia actualizada de la póliza: </strong><em>30/01/2021</em></p>
                        </div>
                        <div style="margin-top: 1em;">
                            <p><strong>Vigencia del amparo: </strong><em>30/03/2021</em></p>
                            <p><strong>Vigencia actualizada del amparo: </strong><em>30/01/2021</em></p>
                        </div>
                        <div style="margin-top: 1em;">
                            <p><strong>Valor del amparo: </strong><em>$60.000.000</em></p>
                            <p><strong>Valor actualizada del amparo: </strong><em>$50.000.000</em></p>
                        </div>
                    </mat-card-content>
                </mat-card>
            </mat-expansion-panel>
        </mat-accordion>
        <mat-accordion>
            <mat-expansion-panel class="expansion-style sub-expansion-black">
                <mat-expansion-panel-header class="expansion-style--header">
                    <mat-panel-title class="expansion-style--title">
                        Seguro 2
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <mat-card class="shipping-card mainGris">
                    <mat-card-header class="header-card header-card--margin">
                        <mat-card-title class="header-card--text textoGris">
                            Garantía de estabilidad y calidad de la obra
                        </mat-card-title>
                    </mat-card-header>
                    <mat-card-content style="text-align: left;">
                        <div style="margin-top: 1em;">
                            <p><strong>Vigencia de la póliza: </strong><em>30/03/2021</em></p>
                            <p><strong>Vigencia actualizada de la póliza: </strong><em>30/01/2021</em></p>
                        </div>
                        <div style="margin-top: 1em;">
                            <p><strong>Vigencia del amparo: </strong><em>30/03/2021</em></p>
                            <p><strong>Vigencia actualizada del amparo: </strong><em>30/01/2021</em></p>
                        </div>
                        <div style="margin-top: 1em;">
                            <p><strong>Valor del amparo: </strong><em>$60.000.000</em></p>
                            <p><strong>Valor actualizada del amparo: </strong><em>$50.000.000</em></p>
                        </div>
                    </mat-card-content>
                </mat-card>
            </mat-expansion-panel>
        </mat-accordion>
    </mat-expansion-panel>
    <mat-expansion-panel class="expansion-style  sub-expansion">
        <mat-expansion-panel-header class="expansion-style--header">
            <mat-panel-title class="expansion-style--title">
                Observaciones especificas
            </mat-panel-title>
        </mat-expansion-panel-header>
        <div style="text-align: center;">
            <p><strong>¿Tiene observaciones especificas de la actualización?: </strong><em>Sí</em></p>
        </div>
        <mat-card class="shipping-card mainGris">
            <mat-card-header class="header-card header-card--margin">
                <mat-card-title class="header-card--text textoGris">
                    Observaciones especificas de la actualización
                </mat-card-title>
            </mat-card-header>
            <mat-card-content style="text-align: left;">
                <p><em>Es necesaria la actualización para dar finalizada la póliza, ya que no se necesita más
                        tiempo.</em></p>
            </mat-card-content>
        </mat-card>
    </mat-expansion-panel>
    <mat-expansion-panel class="expansion-style  sub-expansion">
        <mat-expansion-panel-header class="expansion-style--header">
            <mat-panel-title class="expansion-style--title">
                Lista de chequeo
            </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-card class="shipping-card mainGris">
            <mat-card-content style="text-align: left;">
                <p> <strong>¿Cumple con los datos del Asegurado/ Beneficiario?: </strong><em>Sí</em> </p>
                <p> <strong>¿Cumple con los datos del Beneficiario cuando se trate de garantía bancaria?:
                    </strong><em>Sí</em> </p>
                <p> <strong>¿Cumple con los datos del Tomador / Afianzado?: </strong><em>Sí</em> </p>
                <p> <strong>¿Se incluye el recibo de pago con los datos requeridos?: </strong><em>Sí</em> </p>
                <p> <strong>¿Se incluyen las condiciones generales de la póliza/ o su clausulado?: </strong><em>Sí</em>
                </p>
            </mat-card-content>
        </mat-card>
    </mat-expansion-panel>
    <mat-expansion-panel class="expansion-style  sub-expansion">
        <mat-expansion-panel-header class="expansion-style--header">
            <mat-panel-title class="expansion-style--title">
                Revisión y aprobación
            </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-card class="shipping-card var-main-gris">
            <mat-card-header class="header-card header-card--margin">
                <mat-card-title class="header-card--text textoGris">
                    Revisión
                </mat-card-title>
            </mat-card-header>
            <mat-card-content style="text-align: left;">
                <p> <strong>Fecha de la revisión 2: </strong><em>21/01/2021</em> </p>
                <p> <strong>Estado de la revisión 2: </strong><em>Aprobación</em> </p>
                <h2 class="card-subTitle">Aprobación</h2>
                <p> <strong>Fecha de aprobación: </strong><em>21/01/2021</em> </p>
                <p> <strong>Responsable de aprobación: </strong><em>Nathalia Aranda</em> </p>
            </mat-card-content>
        </mat-card>
    </mat-expansion-panel>
</mat-accordion>
<!-- Colocas los if's -->
<div class="mt-2em">
    <mat-card class="shipping-card mainGris">
        <mat-card-header class="header-card header-card--margin">
            <mat-card-title class="header-card--text textoGris">
                Observaciones del supervisor
            </mat-card-title>
        </mat-card-header>
        <mat-card-content align="left">
            <p><strong>16/11/2020</strong></p>
            <div>
                <p><strong>¿Desde la supervisión tiene observaciones frente a la actualización de la póliza que deban
                        ser tenidas en cuenta en la
                        liquidación?: </strong><em>No</em></p>
            </div>
        </mat-card-content>
    </mat-card>
</div>
<div class="mt-2em">
    <form [formGroup]="addressForm" (ngSubmit)="onSubmit()">
        <div class="row mtop justCenter">
            <div class="col-md-12">
                <label class="label-left" for="tieneObservaciones" [ngClass]="{
                    'color-secondaryColor':
                      (addressForm.get('tieneObservaciones').invalid && addressForm.get('tieneObservaciones').touched) ||
                      (addressForm.get('tieneObservaciones').invalid && estaEditando)
                  }">¿Desde control y seguimiento tiene observaciones frente a la actualización de la póliza que deban
                    ser tenidas en cuenta en la
                    liquidación?</label>
            </div>
            <div class="col-md-2">
                <mat-radio-group aria-labelledby="example-radio-group-label" class="radioInput"
                    formControlName="tieneObservaciones">
                    <mat-radio-button class="radio-button" [value]="true">Sí</mat-radio-button>
                    <mat-radio-button class="radio-button" [value]="false">No</mat-radio-button>
                </mat-radio-group>
                <span class="required-form-group" style="margin-left: 1px;">*</span>
            </div>
            <span class="icon-incompleto">
                <img class="icon-incompleto--img" src="assets/img/icon/incompleto.svg" alt="este campo es requerido"
                    [matTooltipPosition]="'above'" matTooltip="Debe ingresar la información en el campo para continuar"
                    matTooltipClass="info-tooltip" *ngIf="
                  (addressForm.get('tieneObservaciones').invalid && addressForm.get('tieneObservaciones').touched) ||
                  (addressForm.get('tieneObservaciones').invalid && estaEditando)
                  " />
            </span>
        </div>
        <div class="d-flex align-items-center mt-2em animatedDown"
            *ngIf="addressForm.get('tieneObservaciones').value === true">
            <div class="text-area-quill izqTitle" [ngClass]="{
                'color-secondaryColor':
                  (addressForm.get('observaciones').invalid && addressForm.get('observaciones').touched) ||
                  (addressForm.get('observaciones').invalid && estaEditando)
              }">
                <label for="observaciones" class="text-area-quill--label" [ngClass]="{
                    'colorMainColor':
                      !((addressForm.get('observaciones').invalid && addressForm.get('observaciones').touched) ||
                      (addressForm.get('observaciones').invalid && estaEditando))
                  }">Observaciones frente a la actualización de la póliza</label>
                <quill-editor class="quill-editor-style" [styles]="editorStyle" [modules]="config" required
                    (onContentChanged)="maxLength($event, 1000)" formControlName="observaciones" #observaciones>
                </quill-editor>
            </div>
            <span class="contador miles" *ngIf="addressForm.get('observaciones').value">
                {{1000 - (textoLimpio(observaciones.quillEditor,1000))}}
            </span>
            <span class="contador miles" *ngIf="addressForm.get('observaciones').value === null">
                1000
            </span>
            <span class="icon-incompleto">
                <img class="icon-incompleto--img" src="assets/img/icon/incompleto.svg" alt="este campo es requerido"
                    [matTooltipPosition]="'above'" matTooltip="Debe ingresar la información en el campo para continuar"
                    matTooltipClass="info-tooltip" *ngIf="
                    (addressForm.get('observaciones').invalid && addressForm.get('observaciones').touched) ||
                    (addressForm.get('observaciones').invalid && estaEditando)
                  " />
            </span>
        </div>
        <button mat-button color="warn" class="btn-guardar mt1" type="submit">
            <img src="assets/img/icon/guardar.svg" alt="Guardar">
        </button>
    </form>
</div>