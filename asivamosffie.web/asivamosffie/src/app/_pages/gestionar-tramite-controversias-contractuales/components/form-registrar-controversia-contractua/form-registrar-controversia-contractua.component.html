<div class="container text-center">
    <div class="text-right">
        <a routerLink="/gestionarTramiteControversiasContractuales" mat-button color="primary" class="btn-regresar">
            <img src="assets/img/icon/regresar.svg" alt="Regresar">
        </a>
    </div>
    <h1 class="title-menu--h1">
        Registrar controversia contractual
    </h1>
    <form [formGroup]="addressForm" novalidate (ngSubmit)="onSubmit()">
        <div class="row" style="margin-top: 2em; justify-content: center;">
            <div class="col-md-4">
                <div class="row">
                    <div class="pr-1">
                        <label class="label-left" for="contrato">Número de contrato</label>
                    </div>
                    <div class="col d-flex">
                        <mat-form-field class="full-width">
                          <input matInput #contrato type="text" maxlength="100" required
                            [matAutocomplete]="auto">
                          <mat-autocomplete #auto="matAutocomplete">
                            <mat-option (click)="seleccionAutocomplete(contr.contratoId)" *ngFor="let contr of contratosArray"
                            [value]="contr.numeroContrato">
                              {{contr.numeroContrato}}
                            </mat-option>
                          </mat-autocomplete>
                          <input type="hidden" formControlName="contrato">
                        </mat-form-field>
                      </div>
                    <!--
                    <div class="col">
                        <mat-form-field class="select-width">
                            <mat-select formControlName="contrato" required>
                                <mat-option *ngFor="let contr of contratosArray" [value]="contr.value">
                                    {{ contr.name }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    -->
                </div>
            </div>
        </div>
        <div *ngIf="addressForm.value.contrato!==null">
            <mat-card class="shipping-card mainGris">
                <mat-card-header class="header-card">
                    <mat-card-title class="header-card--text textoGris">
                        Datos del contrato
                    </mat-card-title>
                </mat-card-header>
                <mat-card-content style="text-align: left;">
                    <p><strong>Nombre del contratista:</strong> {{this.nombreContratista}}</p>
                    <p><strong>Tipo de identificación:</strong> {{this.tipoIdentificacion}}</p>
                    <p><strong>Número de identificación:</strong> {{this.numIdentificacion}}</p>
                    <p><strong>Tipo de intervención:</strong> {{this.tipoIntervencion}}</p>
                    <p><strong>Valor del contrato:</strong> $ {{this.valorContrato}}</p>
                    <p><strong>Plazo:</strong> {{this.plazoContrato}}</p>
                    <p><strong>Fecha de inicio de contrato:</strong> {{this.fechaInicioContrato}}</p>
                    <p><strong>Fecha de finalización de contrato:</strong> {{this.fechaFinalizacionContrato}}</p>
                </mat-card-content>
            </mat-card>
            <div class="text-center">
                <p class="info-container">
                    <span class="info-text sin-diligenciar">Sin diligenciar</span>
                    <span class="info-text en-proceso">En proceso</span>
                    <span class="info-text completo">Completo</span>
                </p>
            </div>
            <mat-accordion>
                <mat-expansion-panel class="expansion-style">
                    <mat-expansion-panel-header class="expansion-style--header">
                        <mat-panel-title class="expansion-style--title sin-diligenciar">
                            Registrar controversias
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <app-form-registrar-controvrs-accord [isEditable]="false" [contratoId]="this.contratoId"></app-form-registrar-controvrs-accord>
                </mat-expansion-panel>
            </mat-accordion>
            <mat-accordion>
                <mat-expansion-panel class="expansion-style">
                    <mat-expansion-panel-header class="expansion-style--header">
                        <mat-panel-title class="expansion-style--title sin-diligenciar">
                            Soporte de la solicitud
                        </mat-panel-title>
                    </mat-expansion-panel-header>
                    <app-form-registrar-controvrs-sop-sol [isEditable]="false"></app-form-registrar-controvrs-sop-sol>
                </mat-expansion-panel>
            </mat-accordion>
        </div>
    </form>

</div>