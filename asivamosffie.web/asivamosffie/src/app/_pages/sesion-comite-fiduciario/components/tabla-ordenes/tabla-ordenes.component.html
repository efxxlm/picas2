<div class="busqueda">
  <mat-form-field appearance="outline" class="busqueda--input">
      <mat-label>Buscador / Filtro</mat-label>
      <input matInput #filtro (keyup)="applyFilter($event)">
  </mat-form-field>
  <button mat-button color="primary" class="busqueda--img" (click)="filtro.focus()">
      <img src="assets/img/icon/lupa.svg" alt="Buscar">
  </button>
</div>

<div class="mat-elevation-z8 w-table mb-4em">
  <table mat-table matSort [dataSource]="dataSource">

    <!-- Data Column -->
    <ng-container *ngFor="let columna of columnas" [matColumnDef]="columna.name">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> {{ columna.titulo }} </th>
      <td mat-cell *matCellDef="let element" align="center"> {{ element[columna.name] }} </td>
    </ng-container>

    <!-- Estado Column -->
    <ng-container matColumnDef="estadoComite">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Estado del comité </th>
      <td mat-cell *matCellDef="let element" align="center">
        <span *ngIf="element.estadoComite"> Convocada </span>
        <span *ngIf="!element.estadoComite"> Sin convocatoria </span>
      </td>
    </ng-container>

    <!-- Getión Column -->
    <ng-container matColumnDef="gestion">
      <th mat-header-cell *matHeaderCellDef> Gestión </th>
      <td mat-cell *matCellDef="let element" class="width-30" align="center">
        <button mat-raised-button color="accent" class="btn-table" *ngIf="!element.estadoComite" (click)="editOrden( element )">Ver detalle/ Editar</button>
        <button mat-raised-button color="accent" class="btn-table" (click)="element.estadoComite = true" (click)="convocarComite( element )" *ngIf="!element.estadoComite">Convocar sesión de comité</button>
        <button mat-raised-button color="accent" class="btn-table" *ngIf="!element.estadoComite" (click)="deleteComite( element )">Eliminar</button>
        <button mat-raised-button color="accent" class="btn-table" (click)="editOrden( element )" *ngIf="element.estadoComite">Ver detalle</button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"> </tr>
  </table>

  <mat-paginator [pageSizeOptions]="[5, 10, 20]"></mat-paginator>
</div>