<mat-accordion *ngIf="esVerDetalle === false && seguimientoSemanal !== undefined">
    <mat-expansion-panel class="expansion-style sub-expansion">
        <mat-expansion-panel-header class="expansion-style--header">
            <mat-panel-title class="expansion-style--title" [ngClass]="tieneObservacionAmbiental === true ? 'en-proceso' : semaforoAmbiental">
                Gestión ambiental
            </mat-panel-title>
        </mat-expansion-panel-header>

        <app-gestion-ambiental  [seguimientoSemanal]="seguimientoSemanal"
                                [tipoObservacionAmbiental]="tipoObservaciones.gestionAmbiental"
                                [esRegistroNuevo]="esRegistroNuevo"
                                (tieneObservacion)="tieneObservacionAmbiental = true; this.estadoSemaforoGestionObra.emit( 'en-proceso' )">
        </app-gestion-ambiental>
    </mat-expansion-panel>

    <mat-expansion-panel class="expansion-style sub-expansion">
        <mat-expansion-panel-header class="expansion-style--header">
            <mat-panel-title class="expansion-style--title" [ngClass]="tieneObservacionCalidad === true ? 'en-proceso' : semaforoCalidad">
                Gestión de calidad
            </mat-panel-title>
        </mat-expansion-panel-header>

        <app-gestion-calidad    [seguimientoSemanal]="seguimientoSemanal"
                                [tipoObservacionCalidad]="tipoObservaciones.gestionCalidad"
                                [esRegistroNuevo]="esRegistroNuevo"
                                (tieneObservacion)="tieneObservacionCalidad = true; this.estadoSemaforoGestionObra.emit( 'en-proceso' )">
        </app-gestion-calidad>
    </mat-expansion-panel>

    <mat-expansion-panel class="expansion-style sub-expansion">
        <mat-expansion-panel-header class="expansion-style--header">
            <mat-panel-title class="expansion-style--title" [ngClass]="tieneObservacionSst === true ? 'en-proceso' : semaforoSst">
                Gestión de seguridad y salud en el trabajo
            </mat-panel-title>
        </mat-expansion-panel-header>

        <app-gestion-sst    [seguimientoSemanal]="seguimientoSemanal"
                            [tipoObservacionSst]="tipoObservaciones.gestionSst"
                            [esRegistroNuevo]="esRegistroNuevo"
                            (tieneObservacion)="tieneObservacionSst = true; this.estadoSemaforoGestionObra.emit( 'en-proceso' )">
        </app-gestion-sst>
    </mat-expansion-panel>

    <mat-expansion-panel class="expansion-style sub-expansion">
        <mat-expansion-panel-header class="expansion-style--header">
            <mat-panel-title class="expansion-style--title" [ngClass]="tieneObservacionSocial === true ? 'en-proceso' : semaforoSocial">
                Gestión social
            </mat-panel-title>
        </mat-expansion-panel-header>

        <app-gestion-social [seguimientoSemanal]="seguimientoSemanal"
                            [tipoObservacionSocial]="tipoObservaciones.gestionSocial"
                            [esRegistroNuevo]="esRegistroNuevo"
                            (tieneObservacion)="tieneObservacionSocial = true; this.estadoSemaforoGestionObra.emit( 'en-proceso' )">
        </app-gestion-social>
    </mat-expansion-panel>

    <mat-expansion-panel class="expansion-style sub-expansion">
        <mat-expansion-panel-header class="expansion-style--header">
            <mat-panel-title class="expansion-style--title" [ngClass]="tieneObservacionAlerta === true ? 'en-proceso' : semaforoAlertas">
                Alertas relevantes
            </mat-panel-title>
        </mat-expansion-panel-header>

        <app-alertas-relevantes [seguimientoSemanal]="seguimientoSemanal"
                                [tipoObservacionAlertas]="tipoObservaciones.alertasRelevantes"
                                [esRegistroNuevo]="esRegistroNuevo"
                                (tieneObservacion)="tieneObservacionAlerta = true; this.estadoSemaforoGestionObra.emit( 'en-proceso' )">
        </app-alertas-relevantes>
    </mat-expansion-panel>
</mat-accordion>

<!-- Ver detalle -->
<mat-accordion *ngIf="esVerDetalle === true">
    <mat-expansion-panel class="expansion-style sub-expansion">
        <mat-expansion-panel-header class="expansion-style--header">
            <mat-panel-title class="expansion-style--title">
                Gestión ambiental
            </mat-panel-title>
        </mat-expansion-panel-header>

        <app-gestion-ambiental  [seguimientoSemanal]="seguimientoSemanal"
                                [esVerDetalle]="true"
                                [tipoObservacionAmbiental]="tipoObservaciones.gestionAmbiental"
                                (dataGestionAmbiental)="dataGestionAmbiental.emit( $event )"></app-gestion-ambiental>
    </mat-expansion-panel>

    <mat-expansion-panel class="expansion-style sub-expansion">
        <mat-expansion-panel-header class="expansion-style--header">
            <mat-panel-title class="expansion-style--title" [ngClass]="semaforoCalidad">
                Gestión de calidad
            </mat-panel-title>
        </mat-expansion-panel-header>

        <app-gestion-calidad [seguimientoSemanal]="seguimientoSemanal" [esVerDetalle]="true" [tipoObservacionCalidad]="tipoObservaciones.gestionCalidad"></app-gestion-calidad>
    </mat-expansion-panel>

    <mat-expansion-panel class="expansion-style sub-expansion">
        <mat-expansion-panel-header class="expansion-style--header">
            <mat-panel-title class="expansion-style--title">
                Gestión de seguridad y salud en el trabajo
            </mat-panel-title>
        </mat-expansion-panel-header>

        <app-gestion-sst [seguimientoSemanal]="seguimientoSemanal" [esVerDetalle]="true" [tipoObservacionSst]="tipoObservaciones.gestionSst"></app-gestion-sst>
    </mat-expansion-panel>

    <mat-expansion-panel class="expansion-style sub-expansion">
        <mat-expansion-panel-header class="expansion-style--header">
            <mat-panel-title class="expansion-style--title">
                Gestión social
            </mat-panel-title>
        </mat-expansion-panel-header>

        <app-gestion-social [seguimientoSemanal]="seguimientoSemanal" [esVerDetalle]="true" [tipoObservacionSocial]="tipoObservaciones.gestionSocial"></app-gestion-social>
    </mat-expansion-panel>

    <mat-expansion-panel class="expansion-style sub-expansion">
        <mat-expansion-panel-header class="expansion-style--header">
            <mat-panel-title class="expansion-style--title">
                Alertas relevantes
            </mat-panel-title>
        </mat-expansion-panel-header>

        <app-alertas-relevantes [seguimientoSemanal]="seguimientoSemanal" [esVerDetalle]="true" [tipoObservacionAlertas]="tipoObservaciones.alertasRelevantes"></app-alertas-relevantes>
    </mat-expansion-panel>
</mat-accordion>