<div class="container text-center mt-2em"  *ngIf="dataNovedad != null">
  <div class="text-right">
    <a routerLink="/contratosModificacionesContractuales" mat-button color="primary" class="btn-regresar">
      <img src="assets/img/icon/regresar.svg" alt="Regresar">
    </a>
  </div>

  <div class="text-center">
    <h1 class="title-menu--h1">
      <ng-container *ngIf="esVerDetalle === true; else noEsVerDetalle">
          Ver detalle solicitud {{ dataNovedad.numeroSolicitud }}
      </ng-container>
      <ng-template #noEsVerDetalle>
          Gestionar solicitud {{ dataNovedad.numeroSolicitud }}
      </ng-template>  
    </h1>
  </div>
  <div class="text-center flex">
    <p class="color-titulo mr-right-8em">Fecha de solicitud: <b>{{ dataNovedad.fechaCreacion | date: 'dd/MM/yyyy' }}</b></p>
    <p class="color-titulo"><b>Modificación contractual</b></p>
  </div>
  <div align="left">
    <mat-card class="border">
      <mat-card-content>
        <p><b>Número de comité técnico</b>: CT_0016</p>
        <p><b>Fecha de comité técnico</b>: 12/06/2020</p>
        <p><b>Número de comité fiduciario</b>: {{ dataNovedad['sesionComiteSolicitud'][0].comiteTecnicoFiduciario.numeroComite }}</p>
        <p><b>Fecha de comité fiduciario</b>: {{ dataNovedad['sesionComiteSolicitud'][0].comiteTecnicoFiduciario.fechaOrdenDia | date: 'dd/MM/yyyy' }}</p>
      </mat-card-content>
  </mat-card>
  </div>
  <div class="text-center">
    <mat-accordion>
      <mat-expansion-panel class="expansion-style">
        <mat-expansion-panel-header class="expansion-style--header w-50">
          <mat-panel-title class="expansion-style--title">
            Datos de contratista
          </mat-panel-title>
        </mat-expansion-panel-header>

        <div align="left">
          <mat-card class="border">
            <mat-card-content>
              <p><b>Nombre del contratista</b>: {{ dataNovedad.contrato.contratacion.contratista.nombre }}</p>
              <p><b>Tipo de identificación</b>: {{ dataNovedad.contrato.contratacion.contratista.tipoIdentificacionNotMapped }}</p>
              <p><b>Número de identificación</b>: {{ dataNovedad.contrato.contratacion.contratista.numeroIdentificacion }}</p>
            </mat-card-content>
          </mat-card>
        </div>

      </mat-expansion-panel>

      <mat-expansion-panel class="expansion-style">
        <mat-expansion-panel-header class="expansion-style--header w-50">
          <mat-panel-title class="expansion-style--title">
            Datos del contrato
          </mat-panel-title>
        </mat-expansion-panel-header>

        <div align="left">
          <mat-card class="border">
            <mat-card-content>
              <p><b>Tipo de contrato</b>: {{ dataNovedad.contrato.contratacion.tipoSolicitudCodigo === '2' ? 'Interventoria' : 'Obra' }}</p>
              <p><b>Valor del contrato</b>: {{ dataNovedad.contrato.contratacion.disponibilidadPresupuestal[0].valorSolicitud | currency:'COP':'symbol-narrow':'.0-0' }}</p>
              <p><b>Plazo</b>: {{ dataNovedad.contrato.contratacion.disponibilidadPresupuestal[0].plazoMeses }} meses /
                {{ dataNovedad.contrato.contratacion.disponibilidadPresupuestal[0].plazoDias }} días</p>
          </mat-card-content>
          </mat-card>
        </div>

      </mat-expansion-panel>

      <mat-expansion-panel class="expansion-style">
        <mat-expansion-panel-header class="expansion-style--header w-50">
          <mat-panel-title class="expansion-style--title">
            Detalle de modificación
          </mat-panel-title>
        </mat-expansion-panel-header>

        <div align="left">
          <mat-card class="border">
            <mat-card-content>
              <p><b>Tipo de modificación</b>: Adición, Prorroga</p>
              <p><b>Presupuesto adicional solicitado</b>: $7.000.000</p>
              <p><b>Valor después de la modificación</b>: $72.000.000</p>
              <p><b>Plazo adicional solicitado</b>: 23 meses, 13 días</p>
              <p><b>Plazo después de la modificación</b>: 33 meses, 11 días</p>
              <p><b>Detalle de la modificación</b>: Se solicita adición y plazo para realizar obras extras en el proyecto</p>
            </mat-card-content>
          </mat-card>
        </div>

      </mat-expansion-panel>
    </mat-accordion>
  </div>

  <div class="mt-2em" align="left" *ngIf="!esVerDetalle">
    <mat-card class="border">
      <mat-card-title class="text-area-quill--label">Registrar trámite</mat-card-title>
      <mat-card-content class="mt-2em">
        <p><b>Fecha del trámite</b>: {{ dataNovedad.contrato.contratacion.fechaTramite | date: 'dd/MM/yyyy' }}</p>
        <p><b>Número del contrato</b>: {{ dataNovedad.contrato.numeroContrato }}</p>
        <p><b>Modalidad del contrato</b>: <span *ngIf="modalidadContrato != null">{{ modalidadContrato }}</span></p>
        <app-form-registro-modificacion-contractual [dataFormulario]="formModificacionContractual"></app-form-registro-modificacion-contractual>
      </mat-card-content>
    </mat-card>
  </div>
  <div class="mt-2em" align="left" *ngIf="esVerDetalle">
    <mat-card class="border">
      <mat-card-title class="text-area-quill--label">Datos del trámite</mat-card-title>
      <mat-card-content class="mt-2em">
        <p><b>Fecha del trámite</b>: {{ dataNovedad.contrato.contratacion.fechaTramite | date: 'dd/MM/yyyy' }}</p>
        <p><b>Número del contrato</b>: {{ dataNovedad.contrato.numeroContrato }}</p>
        <p><b>Modalidad del contrato</b>: <span *ngIf="modalidadContrato != null">{{ modalidadContrato }}</span></p>
        <p><b>Número de otrosí </b>: {{ dataNovedad.numeroOtroSi }}</p>
        <p><b>Fecha de envío para firma del contratista</b>: {{ dataNovedad.fechaEnvioFirmaContratista | date: 'dd/MM/yyyy' }}</p>
        <p><b>Fecha de firma por parte del contratista</b>: {{ dataNovedad.fechaFirmaContratista | date: 'dd/MM/yyyy' }}</p>
        <p><b>Fecha de envío para la firma de la fiduciaria</b>: {{ dataNovedad.fechaEnvioFirmaFiduciaria | date: 'dd/MM/yyyy' }}</p>
        <p><b>Fecha de firma por parte de la fiduciaria</b>: {{ dataNovedad.fechaFirmaFiduciaria | date: 'dd/MM/yyyy' }}</p>
        <p><b>Observaciones</b>: <span class="text-justify" [innerHTML]="dataNovedad.observacionesTramite"></span></p>
        <p><b>Url con soporte</b>: {{ dataNovedad.urlDocumentoSuscrita }}</p>
      </mat-card-content>
    </mat-card>
  </div>

</div>